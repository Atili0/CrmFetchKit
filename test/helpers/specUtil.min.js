"use strict";!function(){function t(t,e,n){var o=JSON.parse(t.responseText).error.message;console.log(o),console.log("---------------------------"),console.log("status:"+e),console.log("errorThrown"+n.toString())}function e(t,e,n){var o=$(t.responseXML).find("Message").text();console.log(o),console.log("---------------------------"),console.log("status:"+e),console.log("errorThrown"+n.toString())}function n(t){return{PartyId:{Id:t.d.ContactId,LogicalName:"contact"},ParticipationTypeMask:{Value:5}}}function o(t){return a(t).then(function(t){return _.map(t,n)})}function r(t){var e=t||"foobar";return CrmRestKit.Create("Contact",{LastName:e}).then(function(t){return t})}function a(e,n){for(var o=[],a=0;e>a;a++)o.push(r(n));return $.when.apply($,o).then(function(){return Array.prototype.slice.call(arguments)}).fail(t)}function c(t){var e={Subject:"foobar - appointment",ScheduledStart:(new Date).toISOString(),ScheduledEnd:(new Date).toISOString()};return e.appointment_activity_parties=t,CrmRestKit.Create("Appointment",e).then(function(t){return t.d.ActivityId})}function i(t){var e=[];return CrmRestKit.ByQueryAll("Contact",["ContactId"],t).then(function(t){_.each(t,function(t){e.push(CrmRestKit.Delete("Contact",t.ContactId))})}).then(function(){return $.when.apply($,e)})}window.specUtil={createAppointmentWithAttendees:c,createContactAsAttendees:o,createSetOfContacts:a,createContactRecord:r,deleteContactsByFilter:i,onFetchError:e,onRestError:t}}();